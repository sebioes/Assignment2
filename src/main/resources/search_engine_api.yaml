
"openapi": "3.0.1"
"info":
  "title": "Search Engine API"
  "version": "1"
"paths":
  "/":
    "get":
      "summary": "Get main page"
      "responses":
        200:
          "description": "Successful reponse"
          "content":
            "text/html":
              "schema":
                "$ref": '#/components/schemas/MainPage'
  "/search":
    "get":
      "summary": "Get search results from the search engine"
      "parameters":
        -
          "in": "query"
          "name": "q"
          "schema":
            "type": "string"
            "description": "The keyword to look for"
      "responses":
        200:
          "description": "Successful response with search results"
          "content":
            "text/html":
              "schema":
                "$ref": '#/components/schemas/MainPage'
            "application/json":
              "schema":
                "$ref": '#/components/schemas/UrlArray'
  "/lucky":
    "get":
      "summary": "Get best page"
      "parameters":
        -
          "in": "query"
          "name": "q"
          "schema":
            "type": "string"
            "description": "The url to start crawling"
      "responses":
        200:
          "description": "Successful response"
          "content":
            "text/html":
              "schema":
                "$ref": '#/components/schemas/MainPage'
            "application/json":
              "schema":
                "$ref": '#/components/schemas/Url'
  "/admin/crawl":
    post:
      summary: "Launch a new crawling operation"
      responses:
        200:
          description: "Crawling operation successfully initiated"
  "/admin/regenerate-index":
      post:
        summary: "Regenerate the inverted index"
        responses:
          200:
            description: "Inverted index regenerated successfully"
  "/admin/delete-url":
      post:
        summary: "Delete a URL from the index"
        parameters:
          - in: "query"
            name: "url"
            schema:
              type: "string"
            description: "The URL to delete"
        responses:
          200:
            description: "URL deleted from the index"
  "/admin/update-url-info":
      post:
        summary: "Update (or add) information for a given URL in the index"
        requestBody:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UrlInfo'
        responses:
          200:
            description: "URL information updated/added successfully"

"components":
  "schemas":
    "MainPage":
      "type": "string"
    "Url":
      "type": "string"
    "UrlArray":
      "type": "array"
      "items":
        "$ref": "#/components/schemas/Url"
    "UrlInfo":
        "type": "object"
        "items":
          "$ref": "#/components/schemas/UrlInfo"
